# Data Analytics



> 큰 틀에서 우리가 하고싶은 것은 AI 지만, (ML/DL/Reinforcement Learning)
>
> AI를 하기 위해서는 데이터 분석이 필요하다



## __데이터분석이란 무엇인가?__

data가 중요한가, analytics가 중요한가?



### 분석이란 무엇인가?

__목적과 정의는 다르다__

필요한 정보를 얻어내거나, 인사이트를 도출하는 것은 데이터분석의 목적이지 정의가 아니다.

분석이란? "자세히 알아보는 것"



### 데이터(Data)란?

#### 데이터의 특징

1. 생성: 데이터는 __만드는 것__이 아니라, __만들어지는 것__이다.

2. Activity(행동)의 결과 (Business Activities)

   1. 비즈니스란? 이익을 창출하기 위한 수단 (삼성의 비즈니스는 "제조", 네이버 카카오의 비즈니스는 "광고")

      예) "매출"이라는 데이터는 "판매"라는 활동에 의해 만들어진다.

      ​     "출결기록"은 우리의 "출석QR"에 의해 만들어진다.

      ​     "잔고"란 "출금"과 "입금"이라는 행동의 결과들

   2. 수집하고 저장할지는 우리의 선택이다

3. 데이터는 태생이 __복수형__ 단어이다 (단수:datum)

   _"데이터는 여러개구나!"_

4. 모든 데이터는 과거



---

따라서, 데이터란 __과거 행동의 결과들__

---



행동하지 않았는데 기록으로 남기는 것을 무엇이라고 하는가? "위조", "변조"

위/변조되지 않았다면 객관적 사실에 대한 기록으로 볼 수 있다

예) 코로나 명부를 사람이 작성하는 게 아니라, 체온/QR 체크를 기계적으로 기록을 남김으로써 행동과 기록을 일치시킴





### Data Analytics란?

데이터의 특징을 확인하는 일





## Business Intelligence(BI) 결정 과정

과거의 데이터를 확인해서 (= 분석)

미래의 행동에 영향을 주려는 것



#### 1) Business Activities

- 데이터는 아날로그 데이터, 디지털 데이터가 있다

#### 2) Data Bases(DB)

- 디지털 데이터는 DB에 저장되며, DB는 여러개 만든다. 왜?
- 활동내역에 따라 (매출, ...)

#### 3) Data Warehouse(DW)

- 데이터베이스를 하나로 통합하게 된다. 왜?
- 예측하려고. 무엇을?

#### 4) Data Mining(DM)

- 과거의 행동을 캐내서, 미래 행동을 예측하는 것

- 전통적으로 이것을 사람 통계(statistics)나 분석(analytics)이 했다

  (무언가의 특징을 확인하는 일)

- 사람이 아니라 사람이 만든 무언가가 하면 그것이 AI (머신러닝, 딥러닝)이다 

- 통계, 머신러닝 모두 목적은 data mining

- data analytics, data mining 은 지금은 "통계" 개념으로 이해하자



#### 5) Decision Making(Planning)

- 미래의 행동, 미래의 결과에 영향을 주고싶은 것



---

따라서 BI 가 객관적인 데이터에 기반했다면 신뢰할 수 있다고 말할 수 있다

그러나 정말 미래가 바뀔까? 확신할 수는 없다

과거의 데이터의 의존했을 뿐 미래와는 다른 것이므로

그럴것이라고 믿는 것. (확률과 통계가 같이 오는 이유)

---





통계가 두개로 나뉘는 이유

- 기술통계: 단순히 과거의 데이터를 보는 것

- 통계모델링(데이터마이닝): 그것으로 미래 행동을 예측하는 것





## 통계란?

> 통계에서 모든 데이터가 모여있는 것을 **"집단"**이라고 한다
>
> 통계란, 복수인 데이터(즉 집단)의 **특징**을 하나의 수치로 요약해서 설명해주는 것



큰 틀에서는 Data Analystics, 통계(statistics) 모두 데이터의 **1)특징**을 **2)확인**하는 일



### 1) 특징

> 데이터의 특징은 후에 데이터의 "모양"(=분포)으로 이어짐



1) 중심화경향치(모여있는 수치): 평균(mean) - 공통점

2) 산포도(떨어져있는 수치): 분산 - 차이점

- 데이터 분석이랑 공통점과 차이점을 보는 과정이다



#### (1) 평균

- 대표적인 특징 중 하나

- 평균은 "중심화경향치" 이다 (집단의 수치가 평균을 중심으로 모여있는 경향을 띈다)



#### (2) 분산

- 평균에서 평균적으로 떨어져있는 정도
- 떨어진 값에 제곱을 한다(절대값을 하지 않는 것은 머신러닝 때문) - 왜곡이 일어날 수밖에 없음
- 값에 루트를 씌우면 - 표준편차



---

평균과 분산만 있으면 웬만한 의사결정은 가능해진다

---



#### (3) 빈도 : 문자열인 경우





### 2) 확인

- 수학적 연산

- 연산의 종류는 데이터의 타입에 따라 크게 2가지로 달라진다

  | Python Data Type | 통계척도(scale) | 의미있는 연산                  | 예                  |
  | ---------------- | --------------- | ------------------------------ | ------------------- |
  | 문자(범주형)     | 명목형(명명)    | == , !=                        | 성별, 혈액형        |
  |                  | 순서형(서열)    | < , > , >= , <=                | 메달, 직급          |
| 숫자(수치형)     | 이산형(등간)    | 0이 의미를 가지지 않음<br>+, - | 온도, 주가지수      |
  |                  | 연속형(비율)    | 0이 의미를 가짐<br>*, /        | 길이, 속도, 무게 등 |

  * 순서형: 간격은 의미가 없고, 앞뒤 순서만 의미가 있는 데이터

    예) 금메달 10초 은메달 15초 동메달 12초라고 더 좋은 동메달을 조지 않는다

  * 0이 의미를 가지지 않는다는 의미는? 0이 "없다"의 의미를 가지지 않는다는 것

    * 온도 0도라고 해서 온도가 없는것인가? 아니다!

      온도 0도란, 물이 고체화되는 온도로 우리가 약속한 것일 뿐!
  
      온도 0(물이 어는 온도)와 온도 100도(물이 끓는 온도)로 약속해놓고, 사이를 100개로 쪼개 그 정도를 본 것 
  
      온도 "0도"는 기준점일 뿐, 숫자로서 0의 의미가 **"없다"**
  
    * 주가지수가 0이 된다고 해서 주가지수가 없어지는 것은 아님. 기준점으로 약속해놓고 변화량을 보기 위한 숫자
  
    

이것을 수치로 나타낼 것이냐, 시각화해서 나타낼 것이냐?









## 데이터분석이 왜 보편화되었는가?

> 왜 데이터가 이렇게 중요하게 되었는가?



### 4차 산업혁명 vs. Digital Transformation(DT)

> 4차 산업혁명의 '산업' 이란 무엇일까?



__1차혁명: 농업혁명__

- 수렵과 채집: 이동해다니며 먹음
- 농업을 하며 정착하게 됨



### 1) 1차 산업혁명: 증기(석탄기반) + 공장

#### 제조업의 혁명 (1780년~)

- 이전엔 가내수공업의 형태. 왜 가내수공업을 했을까?

- 물건을 만들기 위해서는 원자재와 **동력** 이 필요함

- 어떤 계기로 혁명적으로 달라지게 되었나? **증기**



#### 증기

- 증기: 외연기관
- 증기는 왜 혁명적인 에너지였나? 인류 최초로 **원하는 시점에 원하는 만큼의 동력을 만들 수 있게 됨**
- 증기기관이 있는 곳으로 사람들이 모여야 함 (가내수공업인 경우 모일 필요가 없었음)
- 약속된 시간에 일하는 "공장"이 생기고, 교육의 형태가 생기고, 가내수공업의 형태에서 "제조업"의 형태가 나타나게 됨

---

증기가 주는 제조업의 영향이 혁명적이고,

동력을 원하는 시점에 원하는 만큼 원하는 곳에서 만드는 것이 가능해짐

---



- 증기기관차, 증기선(배), 증기자동차
- 제일 먼저 만들어진 것은 증기선. 왜? 증기기관은 크고 무거웠으므로
- 증기선은 부력에 뜨고, 흙길에 철로 레일을 깔아 증기기관차 보급, 그 이후 기술발전으로 작아진 후 증기자동차





- 제조업의 본질: 물건을 만들어 그에 동등한 가치를 받고 교환하는 것

- 제조업 (생산자(공급) vs. 소비자(수요)): 공급보다 **수요**가 많은 시기





### 2) 2차 산업혁명 (1870년~1940년): 전기(석유) + 모터

#### 전기는 왜 혁명인가?

​	(1) 저장 가능

​	(2) 만드는 곳과 사용하는 곳이 달라도 된다

​	(3) 세밀한 조정 가능



- 석유: 내연기관

- 공장에 컨베이어벨트가 등장하게 됨 -> 대량생산의 개념 등장

- 대량생산은 제조업에 좋을까, 안좋을까?

  - 수요가 많다면 좋지만 적다면 좋지않다 "증설의 저주"

  

- **공급**이 수요보다 늘어나게 됨

  - 제조업 경쟁 심화, 이익이 줄어듦
  - 원가 절감/수요를 늘림. 어떻게?
  - 수요를 늘리기 위해 식민지 개척, 수요를 폭발적으로 늘리는 "전쟁"(1차, 2차 세계대전)




- 이러지 말고 다 같이 행복하게 살자, 로 변화하게 됨(1950년~)

- 공정한 경쟁을 위해 Management가 필요하게 됨



#### Management(관리/경영): 1950년~

​	(1) 원가관리

​	(2) 품질관리

​	(3) 인적자원 관리

​	(4) 공급망(Supply chain) 관리 

​	(5) 고객관리



- 관리를 하려면 뭐가 필요한가? 바로 "데이터"

  - 관리의 궁극적인 목적: 의사결정
  - 1950년대, "장부"에 데이터를 관리함
    - 의사결정에 필요한 데이터만 장부에 기록함 (모든 데이터를 기록하지 못했음)
  -  이 장부를 컴퓨터에 그대로 집어넣은 것이 DB
  - 1950~1960년대 IBM 회사에서 컴퓨터 기반 관계형 DB(DB2)를 만듦

  

  

- 1980년대 컴퓨터의 보급화

  - 훨씬 많은 양의 데이터를 보관할 수 있게 됨
  - "데이터 마이닝" 형태의 개념이 등장



### 3) 3차 산업혁명 (1980년 ~)

> 2차산업혁명 제조업의 위기를 데이터 관리로 극복하는 과정에서
>
> 아날로그 데이터 관리(종이)에서 디지털 데이터 관리(컴퓨터)로 넘어가는 시점이 "3차 산업혁명"



- 컴퓨터의 보급으로 폭발적으로 늘어나게 됨

- 최초의 컴퓨터: 애니악, 1940년대
- 최초의 PC(Personal Computer): 1976년, 애플1

- 제조업, 농업, 서비스업에도 영향을 주게 됨

- 아직 인터넷으로 모두 연결된 것은 아님





#### 1998~ 인터넷으로 연결: ADSL(인터넷) 연결, 2세대 휴대폰이 등장



#### 2004~ : 3G(영상) 휴대폰



#### 2007~ : 4G(LTE) 스마트폰 등장(애플 아이폰)

- 디지털 데이터의 활용이 급격하게 늘어나게 됨
- 

#### 2019~ : 5G





### 4) Digital Transformation

> 데이터 활용이 급격하게 늘어났음에도 불구하고, 아직까지 1950년대 관리법을 사용하고 있음
>
> 보다 적합한 관리법을 사용해야한다는 움직임이 "Digital Transformation"(Data Analytics /AI)



- 이것을 누군가는 4차 산업혁명이라고 부르지만, "산업"이라는 단어는 더이상 의미가 없다
- "제조업"의 혁명이 아니라 "디지털"혁명
- 아날로그에서 디지털로 전환되는 시점, 컴퓨터를 기반으로 모든 것을 하는 시대





1980~1998은 컴퓨터 활용능력이 중요할 수 있었지만, (컴퓨터를 처음 만났으므로)

이제는 디지털 데이터 활용의 극대화하는 것이 중요한 "Digital Transformation"시대이다

수많은 데이터가 있지만 아직 활용능력은 그에 따라가지 못했으므로,

디지털 데이터에 걸맞는 management 방식을 사용하고 싶은 것







## 데이터 관련 직군의 분류

데이터 관련 직군은 크게 아래의 축으로 나뉜다.

Data(DT): 데이터의 종류는 정형, 비정형으로 나뉨



### 1) 기획(Planning)

### 2) Data Engineering: 수집, 저장, 가공, 전처리 (빅데이터, 클라우드 파트)

- 생활의 모든 데이터를 놓치지 않고 수집(IoT)
- 수집을 위한 크롤링
- 저장을 위한 Hadoop, spark, ... 

### 3) Data Analytics : R/Python (인공지능)

#### (1) Statistics(DM)

#### (2) AI Modeling

- 머신러닝: 정형데이터

- 딥러닝: 비정형데이터





### 정형 데이터(Structured Data)

= 구조화된 데이터



- db는 왜 만드는가? 데이터를 저장하려고

- 데이터는 어디서 오는가? 인터페이스(web App)로부터
  - 외부의 사용자(일반적으로 사람)로부터 입력을 받음
  - input을 받기 위해 form을 만들어줌(이름, 나이, 전화, 주소 ...)
  - 입력하고 제출을 누르면, 데이터베이스 테이블에 레코드로 기록됨

정형 데이터라는 것은, 각 컬럼의 타입과 크기를 정해두고 정해진 형태의 데이터만 들어갈 수 있다는 의미



#### 카카오톡 메세지를 db에 저장한다고 생각해보자

- 타입이 무엇인가? (사진, 영상, 문자, 파일 ... 모두 보낼 수 있다)

- 어떤 타입에 어떤 길이로 들어올지 모르기 때문에, NoSQL은 key를 붙여서 심플하게 저장하게 된다



예전 문자메세지의 경우, 80바이트까지 저장되고 그것을 넘으면 나눠서 전송되었음

(뒤에 보낸 문자가 먼저 감 - 컴퓨터가 데이터를 처리하는 방식)



NoSQL(Not "Only" SQL): Unstructured 를 처리하기 위해서는 **비정형 데이터베이스**가 더 적합할 수 있다









# Data Structure



## Data Structure란 무엇인가?

- 데이터를 모아서 관리하는 방식(데이터를 어떻게 모아서 관계를 설명할 것인가?)

- RDBMS의 "테이블"도 자료 구조 하나이다.

  데이터의 관계를 트리구조, 네트워크로 만드는 경우도 있다

- 몽고db의 핵심은 "unstructured", 구조가 없으나 값을 불러오기 위해 키를 준 것일 뿐, (딕셔너리로 보임)

- python용 데이터 구조와 분석용 데이터구조(pandas)가 다르다

  (소프트웨어 개발을 할 게 아니라 데이터분석을 할 것이라면 pandas가 더 필요하다)

| python     | pandas    |
| ---------- | --------- |
| string     | DataFrame |
| list       |           |
| tuple      |           |
| dictionary |           |

정형(structured): string, list, tuple

비정형(unstructured): dictionary

왜 리스트, string, tuple을 한줄로 저장할까?

이것을 이해하기 위해서는 컴퓨터가 데이터를 처리하는 방식은 비트와 주소에 대해 알아야 한다





### 참고) 컴퓨터의 데이터 저장 방식

> data -> computer (0,1) => Memory(RAM)
>
> 우리는 데이터를 컴퓨터에 저장해서 처리한다. 그리고 컴퓨터는 0,1 밖에 모른다
>
> 이것을 비트(bit, Binary Digit) 체제라고 한다



#### Address / Index

컴퓨터가 Memory(물리적 공간)에 부여한 Address(논리적인) 구조

주소는 실제로 이진수로 저장됨 (000, 010, 011, ... 111)



#### 흔히 말하는 32비트, 64비트는 무엇인가?

---

비트: 컴퓨터가 처리할 수 있는 데이터의 크기를 의미

---

데이터 하나마다 주소값이 주어지고, (주소값을 "포인팅" 한다고 한다)

32비트라면 0,1를 조합해 나올 수 있는 모든 경우의 수인 2**32 개의 주소값을 한번에 할당할 수 있다



따라서 데이터 하나가 1Byte라면 

32비트는 2 ** 32 개만큼 주소를 만들 수 있음 (4기가바이트)

64비트는  2 ** 64 개만큼 주소를 만들 수 있음 (16 엑사바이트) 

한번에 처리할 수 있는 데이터 양의 차이



그렇다면 32비트, 64비트 중 뭐가 더 빠를까? 정확히는 **알 수 없다**

비트는 속도의 단위가 아니기 때문 (1톤 트럭과 5톤 트럭 중 뭐가 더 빠를까? 와 비슷한 질문)

데이터가 크다면 64비트가 한번에 처리할 수 있어 32비트보다 빠를 수도 있지만,

그것이 비트 때문만은 아니다.

데이터 양에 맞는 비트수를 가지는 것이 가장 좋은 것이지, 직접적으로 속도와 관련된 것은 아니다.

속도 단위는 GHz, bps이므로 비트와 구분해서 생각하는 것이 더 명확하다



---

데이터는 왜 한줄로 길게 생겼는가? 데이터 하나마다 주소값을 가지고 있고, 데이터를 비트단위로 관리하므로 

---









### Pandas DataFrame의 구조

- 구성: index, header(=columns), value

- df은 series의 집합이다









## Knowledge-Based Management System

## (지식기반 관리체계)



#### Data(자료)

- 만들어지는 것 ex) 도서관 대출자료



Processing -- 데이터를 정보로 가공함 "정보를 처리한다"



#### Information(정보): 만드는 것 

- 남/여, 1학년/2학년/2학년/4학년, 전공별(학부별,학과별 등) 등으로 분류

- 분류하면 정보가 됨



Trend -- 추세를 파악



#### Knowledge(지식)



Decision Making(의사결정)



#### Wisdom(지혜)

- 지식기반의 의사결정이 들어가면 wisdom(지혜)가 된다







### Pandas 시각화

1. 2차원 공간
2. 연속형/명목형
3. series 단위로 시각화가 이루어짐





### 결측치를 처리하는 법

> 결측치가 없는 아름다운 데이터를 다루는 일은 없을것이다
>
> "데이터를 수집하였는데, *개의 결측치가 있어 이것을 이러이러하게 처리하여 분석한 결과입니다" 라고 알려주는 것이 좋다

결측치: NA, NaN, NULL 로 표시된다





1. 삭제(제거): 삭제는 권장하지 않는다
   - 행
   - 열

2. 대체: 반드시 답이 정해져 있는 것은 아니다 (모델링에서는 그래서 사실 다 해본다)
   - 수치: 평균, 중앙값, 최소값, 최대값
   - 문자: 최빈값, 앞이나 있는 값을 채워넣을수도 있다(비즈니스의 특징 따라)





### EDA

탐색적 데이터 분석

데이터에 대해 이해하는 과정

보통 시각화











## 상관계수 (-1 <= r <= 1)

음의 상관관계(반비례)와 양의 상관관계(정비례)

상관계수는 원인을 알 수 없다. 관계만 볼 뿐



기온이 높아지면 아아/뜨아의 판매량이 어떻게 달라질 것인가?



가설을 세움 예) 인구가 많으면 cctv가 많지 않을까?

가설을 검증